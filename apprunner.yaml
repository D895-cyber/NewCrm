version: 1.0
runtime: nodejs16
build:
  commands:
    build:
      - echo "Installing backend dependencies..."
      - cd backend && npm install
      - echo "Installing frontend dependencies..."
      - cd ../frontend && npm install
      - echo "Building frontend..."
      - npm run build
      - echo "Build completed successfully"
run:
  runtime-version: 16
  command: cd backend && npm start
  network:
    port: 4000
    env: PORT
  env:
    - name: NODE_ENV
      value: production
    - name: PORT
      value: "4000"
    - name: MONGODB_URI
      value: mongodb+srv://dev:dev123@cluster0.es90y1z.mongodb.net/projector_warranty?retryWrites=true&w=majority&appName=Cluster0
    - name: JWT_SECRET
      value: your-production-jwt-secret-change-this-in-production-2024
    - name: FRONTEND_URL
      value: "*"
    - name: CLOUDINARY_CLOUD_NAME
      value: your-cloud-name
    - name: CLOUDINARY_API_KEY
      value: your-api-key
    - name: CLOUDINARY_API_SECRET
      value: your-api-secret
    - name: SMTP_USER
      value: your-email@gmail.com
    - name: SMTP_PASS
      value: your-app-password
    - name: SMTP_HOST
      value: smtp.gmail.com
    - name: SMTP_PORT
      value: "587"
    - name: ADMIN_EMAIL
      value: admin@projectorcare.com
    - name: MANAGER_EMAIL
      value: manager@projectorcare.com
